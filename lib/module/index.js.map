{"version":3,"names":["NativeModules","Platform","NativeEventEmitter","LINKING_ERROR","select","ios","default","Knotapi","Proxy","get","Error","eventNames","onSuccess","onError","onEvent","onExit","onFinished","eventEmitter","openCardOnFileSwitcher","params","openCardSwitcher","openSubscriptionCanceler","addListener","eventName","callback"],"sources":["index.ts"],"sourcesContent":["import {NativeModules, Platform, NativeEventEmitter} from 'react-native';\n\nconst LINKING_ERROR =\n    `The package 'react-native-knotapi' doesn't seem to be linked. Make sure: \\n\\n` +\n    Platform.select({ios: \"- You have run 'pod install'\\n\", default: ''}) +\n    '- You rebuilt the app after installing the package\\n' +\n    '- You are not using Expo managed workflow\\n';\n\nconst Knotapi = NativeModules.Knotapi ? NativeModules.Knotapi : new Proxy(\n    {},\n    {\n        get() {\n            throw new Error(LINKING_ERROR);\n        },\n    }\n);\n\nexport const eventNames = {\n    onSuccess: 'onSuccess',\n    onError: 'onError',\n    onEvent: 'onEvent',\n    onExit: 'onExit',\n    onFinished: 'onFinished'\n} as const;\n\nconst eventEmitter = new NativeEventEmitter(Knotapi)\n\ntype CustomizationType = {\n    primaryColor?: string\n    textColor?: string\n    companyName?: string\n}\ntype CardOnFileSwitcherParams = { sessionId: string, clientId: string, merchants?: number[], customization: CustomizationType, environment: 'production' | 'sandbox' }\ntype SubscriptionCancelerParams = { sessionId: string, clientId: string, amount?: boolean, customization: CustomizationType, environment: 'production' | 'sandbox' }\nexport const openCardOnFileSwitcher = async (params: CardOnFileSwitcherParams) => {\n    return Knotapi?.openCardSwitcher(params);\n}\n\nexport const openSubscriptionCanceler = async (params: SubscriptionCancelerParams) => {\n    return Knotapi?.openSubscriptionCanceler(params);\n}\n\ntype EventNames = keyof typeof eventNames\nexport const addListener = (eventName: EventNames, callback: () => void) => {\n    eventEmitter.addListener(eventName, callback)\n}\n\nexport default Knotapi;\n"],"mappings":"AAAA,SAAQA,aAAR,EAAuBC,QAAvB,EAAiCC,kBAAjC,QAA0D,cAA1D;AAEA,MAAMC,aAAa,GACd,+EAAD,GACAF,QAAQ,CAACG,MAAT,CAAgB;EAACC,GAAG,EAAE,gCAAN;EAAwCC,OAAO,EAAE;AAAjD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJJ;AAMA,MAAMC,OAAO,GAAGP,aAAa,CAACO,OAAd,GAAwBP,aAAa,CAACO,OAAtC,GAAgD,IAAIC,KAAJ,CAC5D,EAD4D,EAE5D;EACIC,GAAG,GAAG;IACF,MAAM,IAAIC,KAAJ,CAAUP,aAAV,CAAN;EACH;;AAHL,CAF4D,CAAhE;AASA,OAAO,MAAMQ,UAAU,GAAG;EACtBC,SAAS,EAAE,WADW;EAEtBC,OAAO,EAAE,SAFa;EAGtBC,OAAO,EAAE,SAHa;EAItBC,MAAM,EAAE,QAJc;EAKtBC,UAAU,EAAE;AALU,CAAnB;AAQP,MAAMC,YAAY,GAAG,IAAIf,kBAAJ,CAAuBK,OAAvB,CAArB;AASA,OAAO,MAAMW,sBAAsB,GAAG,MAAOC,MAAP,IAA4C;EAC9E,OAAOZ,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEa,gBAAT,CAA0BD,MAA1B,CAAP;AACH,CAFM;AAIP,OAAO,MAAME,wBAAwB,GAAG,MAAOF,MAAP,IAA8C;EAClF,OAAOZ,OAAP,aAAOA,OAAP,uBAAOA,OAAO,CAAEc,wBAAT,CAAkCF,MAAlC,CAAP;AACH,CAFM;AAKP,OAAO,MAAMG,WAAW,GAAG,CAACC,SAAD,EAAwBC,QAAxB,KAAiD;EACxEP,YAAY,CAACK,WAAb,CAAyBC,SAAzB,EAAoCC,QAApC;AACH,CAFM;AAIP,eAAejB,OAAf"}